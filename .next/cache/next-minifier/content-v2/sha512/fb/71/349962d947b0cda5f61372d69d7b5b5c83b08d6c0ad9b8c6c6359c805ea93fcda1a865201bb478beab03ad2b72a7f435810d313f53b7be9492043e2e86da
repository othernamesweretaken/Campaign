{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"5Yp1\":function(e,t,r){\"use strict\";var n=r(\"nKUr\"),a=(r(\"q1tI\"),r(\"ZHh6\")),s=r(\"aIN1\"),c=r(\"yE/o\"),i=r(\"g4pe\"),u=r.n(i);t.a=function(e){return Object(n.jsxs)(c.a,{style:{},children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(\"link\",{rel:\"stylesheet\",type:\"text/css\",href:\"https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.css\"})}),Object(n.jsx)(a.a,{}),e.children,Object(n.jsx)(s.a,{})]})}},FZrM:function(e,t,r){\"use strict\";r.r(t);var n=r(\"nKUr\"),a=r(\"vJKn\"),s=r.n(a),c=r(\"rg98\"),i=r(\"H+61\"),u=r(\"UlJF\"),o=r(\"+Css\"),l=r(\"7LId\"),d=r(\"VIvw\"),p=r(\"iHvq\"),h=r(\"cpVT\"),j=r(\"q1tI\"),b=r(\"vFsZ\"),f=r(\"umxb\"),O=r(\"TbSc\"),v=r(\"QetY\"),x=r(\"yktz\"),g=r(\"8cHP\"),m=r(\"5Yp1\"),w=r(\"x/e0\");function y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var q=function(e){Object(l.a)(r,e);var t=y(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),Object(h.a)(Object(o.a)(e),\"state\",{value:\"\",description:\"\",recipient:\"\",loading:!1,errorMessage:\"\"}),Object(h.a)(Object(o.a)(e),\"onSubmit\",function(){var t=Object(c.a)(s.a.mark((function t(r){var n,a,c,i,u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.state,a=n.description,c=n.value,i=n.recipient,t.prev=2,e.setState({loading:!0,errorMessage:\"\"}),t.next=6,Object(x.a)(e.props.address);case 6:return u=t.sent,t.next=9,window.ethereum.enable();case 9:return t.next=11,window.web3.eth.accounts;case 11:return o=t.sent,console.log(o),t.next=15,u.methods.createRequest(a,w.a.utils.toWei(c,\"ether\"),i).send({from:o[0]});case 15:g.Router.pushRoute(\"/campaigns/\".concat(e.props.address,\"/requests\")),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),e.setState({errorMessage:t.t0.message});case 21:e.setState({loading:!1});case 22:case\"end\":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}()),e}return Object(u.a)(r,[{key:\"render\",value:function(){var e=this;return Object(n.jsxs)(m.a,{children:[Object(n.jsx)(g.Link,{route:\"/campaigns/\".concat(this.props.address,\"/requests\"),children:Object(n.jsx)(\"a\",{children:\"Back\"})}),Object(n.jsx)(\"h3\",{children:\"Create a Request\"}),Object(n.jsxs)(b.a,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[Object(n.jsxs)(b.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"Description\"}),Object(n.jsx)(f.a,{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})]}),Object(n.jsxs)(b.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"Value in Ether\"}),Object(n.jsx)(f.a,{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}})]}),Object(n.jsxs)(b.a.Field,{children:[Object(n.jsx)(\"label\",{children:\"Recipient\"}),Object(n.jsx)(f.a,{value:this.state.recipient,onChange:function(t){return e.setState({recipient:t.target.value})}})]}),Object(n.jsx)(O.a,{error:!0,header:\"Oops!\",content:this.state.errorMessage}),Object(n.jsx)(v.a,{primary:!0,loading:this.state.loading,children:\"Create!\"})]}),Object(n.jsxs)(\"h4\",{children:[\"Only manager can create the request - i.e. \",this.props.manager,\" \"]})]})}}],[{key:\"getInitialProps\",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var r,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query.address,n=Object(x.a)(t.query.address),e.next=4,n.methods.manager().call();case 4:return a=e.sent,e.abrupt(\"return\",{address:r,manager:a});case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(j.Component);t.default=q},Xrld:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/campaigns/requests/newRequest\",function(){return r(\"FZrM\")}])}},[[\"Xrld\",0,2,1,3,4,5]]]);","map":{"version":3,"sources":["static/chunks/pages/campaigns/requests/newRequest-3c2442a26995cb07fb2c.js"],"names":["_N_E","window","push","5Yp1","module","__webpack_exports__","__webpack_require__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_header__WEBPACK_IMPORTED_MODULE_2__","_footer__WEBPACK_IMPORTED_MODULE_3__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__","next_head__WEBPACK_IMPORTED_MODULE_5__","next_head__WEBPACK_IMPORTED_MODULE_5___default","n","props","Object","style","children","a","rel","type","href","FZrM","r","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_10__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__","_contract_campaign__WEBPACK_IMPORTED_MODULE_15__","_routes__WEBPACK_IMPORTED_MODULE_16__","_components_Layout__WEBPACK_IMPORTED_MODULE_17__","_contract_web3__WEBPACK_IMPORTED_MODULE_18__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","RequestNew","_Component","_super","_this","_len","length","args","Array","_key","concat","value","description","recipient","loading","errorMessage","_ref","mark","_callee","event","_this$state","campaignInstance","accounts","wrap","_context","prev","next","preventDefault","state","setState","address","sent","ethereum","enable","web3","eth","console","log","methods","createRequest","utils","toWei","send","from","pushRoute","t0","message","stop","_x","key","_this2","route","onSubmit","error","Field","onChange","target","header","content","primary","manager","_getInitialProps","_callee2","campaignCheck","_context2","query","abrupt","_x2","Xrld","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/campaigns/requests/newRequest-3c2442a26995cb07fb2c.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[13],{\n\n/***/ \"5Yp1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ZHh6\");\n/* harmony import */ var _footer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"aIN1\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"yE/o\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\n\nvar layout = function layout(props) {\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    style: {},\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_5___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.css\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_header__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {}), props.children, /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_footer__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {})]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (layout);\n\n/***/ }),\n\n/***/ \"FZrM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"H+61\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"UlJF\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"+Css\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"7LId\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"VIvw\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"iHvq\");\n/* harmony import */ var D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"vFsZ\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"umxb\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"TbSc\");\n/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"QetY\");\n/* harmony import */ var _contract_campaign__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"yktz\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"8cHP\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_routes__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _contract_web3__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"x/e0\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\nvar RequestNew = /*#__PURE__*/function (_Component) {\n  Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(RequestNew, _Component);\n\n  var _super = _createSuper(RequestNew);\n\n  function RequestNew() {\n    var _this;\n\n    Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, RequestNew);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this), \"state\", {\n      value: '',\n      description: '',\n      recipient: '',\n      loading: false,\n      errorMessage: ''\n    });\n\n    Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(event) {\n        var _this$state, description, value, recipient, campaignInstance, accounts;\n\n        return D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, description = _this$state.description, value = _this$state.value, recipient = _this$state.recipient;\n                _context.prev = 2;\n\n                _this.setState({\n                  loading: true,\n                  errorMessage: ''\n                }); //  console.log(\"hi\");\n\n\n                _context.next = 6;\n                return Object(_contract_campaign__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"])(_this.props.address);\n\n              case 6:\n                campaignInstance = _context.sent;\n                _context.next = 9;\n                return window.ethereum.enable();\n\n              case 9:\n                _context.next = 11;\n                return window.web3.eth.accounts;\n\n              case 11:\n                accounts = _context.sent;\n                console.log(accounts);\n                _context.next = 15;\n                return campaignInstance.methods.createRequest(description, _contract_web3__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].utils.toWei(value, 'ether'), recipient).send({\n                  from: accounts[0]\n                });\n\n              case 15:\n                _routes__WEBPACK_IMPORTED_MODULE_16__[\"Router\"].pushRoute(\"/campaigns/\".concat(_this.props.address, \"/requests\"));\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](2);\n\n                _this.setState({\n                  errorMessage: _context.t0.message\n                });\n\n              case 21:\n                _this.setState({\n                  loading: false\n                });\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 18]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(RequestNew, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"], {\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_routes__WEBPACK_IMPORTED_MODULE_16__[\"Link\"], {\n          route: \"/campaigns/\".concat(this.props.address, \"/requests\"),\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n            children: \"Back\"\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\", {\n          children: \"Create a Request\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n          onSubmit: this.onSubmit,\n          error: !!this.state.errorMessage,\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Field, {\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n              children: \"Description\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n              value: this.state.description,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  description: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Field, {\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n              children: \"Value in Ether\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n              value: this.state.value,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  value: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].Field, {\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n              children: \"Recipient\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n              value: this.state.recipient,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  recipient: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n            error: true,\n            header: \"Oops!\",\n            content: this.state.errorMessage\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n            primary: true,\n            loading: this.state.loading,\n            children: \"Create!\"\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"h4\", {\n          children: [\"Only manager can create the request - i.e. \", this.props.manager, \" \"]\n        })]\n      });\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = Object(D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(props) {\n        var address, campaignCheck, manager;\n        return D_Solidity_Campaign_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                address = props.query.address;\n                campaignCheck = Object(_contract_campaign__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"])(props.query.address);\n                _context2.next = 4;\n                return campaignCheck.methods.manager().call();\n\n              case 4:\n                manager = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  address: address,\n                  manager: manager\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getInitialProps(_x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return RequestNew;\n}(react__WEBPACK_IMPORTED_MODULE_10__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RequestNew);\n\n/***/ }),\n\n/***/ \"Xrld\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/campaigns/requests/newRequest\",\n        function () {\n          return __webpack_require__(\"FZrM\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"Xrld\",0,2,1,3,4,5]]]);","inputSourceMap":{"version":3,"sources":["D:\\Solidity\\Campaign\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!D:\\Solidity\\Campaign\\components\\Layout.js","D:\\Solidity\\Campaign\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!D:\\Solidity\\Campaign\\pages\\campaigns\\requests\\newRequest.js","D:\\Solidity\\Campaign\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcampaigns%2Frequests%2FnewRequest&absolutePagePath=private-next-pages%2Fcampaigns%2Frequests%2FnewRequest.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport { Container } from 'semantic-ui-react';\nimport Head from 'next/head';\n\nvar layout = function layout(props) {\n  return /*#__PURE__*/_jsxs(Container, {\n    style: {},\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.css\"\n      })\n    }), /*#__PURE__*/_jsx(Header, {}), props.children, /*#__PURE__*/_jsx(Footer, {})]\n  });\n};\n\nexport default layout;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"D:/Solidity/Campaign/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Form, Button, Message, Input } from 'semantic-ui-react';\nimport Campaign from '../../../contract/campaign';\nimport { Link, Router } from '../../../routes';\nimport Layout from '../../../components/Layout';\nimport web3 from '../../../contract/web3';\n\nvar RequestNew = /*#__PURE__*/function (_Component) {\n  _inherits(RequestNew, _Component);\n\n  var _super = _createSuper(RequestNew);\n\n  function RequestNew() {\n    var _this;\n\n    _classCallCheck(this, RequestNew);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      value: '',\n      description: '',\n      recipient: '',\n      loading: false,\n      errorMessage: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, description, value, recipient, campaignInstance, accounts;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, description = _this$state.description, value = _this$state.value, recipient = _this$state.recipient;\n                _context.prev = 2;\n\n                _this.setState({\n                  loading: true,\n                  errorMessage: ''\n                }); //  console.log(\"hi\");\n\n\n                _context.next = 6;\n                return Campaign(_this.props.address);\n\n              case 6:\n                campaignInstance = _context.sent;\n                _context.next = 9;\n                return window.ethereum.enable();\n\n              case 9:\n                _context.next = 11;\n                return window.web3.eth.accounts;\n\n              case 11:\n                accounts = _context.sent;\n                console.log(accounts);\n                _context.next = 15;\n                return campaignInstance.methods.createRequest(description, web3.utils.toWei(value, 'ether'), recipient).send({\n                  from: accounts[0]\n                });\n\n              case 15:\n                Router.pushRoute(\"/campaigns/\".concat(_this.props.address, \"/requests\"));\n                _context.next = 21;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](2);\n\n                _this.setState({\n                  errorMessage: _context.t0.message\n                });\n\n              case 21:\n                _this.setState({\n                  loading: false\n                });\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 18]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(RequestNew, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxs(Layout, {\n        children: [/*#__PURE__*/_jsx(Link, {\n          route: \"/campaigns/\".concat(this.props.address, \"/requests\"),\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"Back\"\n          })\n        }), /*#__PURE__*/_jsx(\"h3\", {\n          children: \"Create a Request\"\n        }), /*#__PURE__*/_jsxs(Form, {\n          onSubmit: this.onSubmit,\n          error: !!this.state.errorMessage,\n          children: [/*#__PURE__*/_jsxs(Form.Field, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              children: \"Description\"\n            }), /*#__PURE__*/_jsx(Input, {\n              value: this.state.description,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  description: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/_jsxs(Form.Field, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              children: \"Value in Ether\"\n            }), /*#__PURE__*/_jsx(Input, {\n              value: this.state.value,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  value: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/_jsxs(Form.Field, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              children: \"Recipient\"\n            }), /*#__PURE__*/_jsx(Input, {\n              value: this.state.recipient,\n              onChange: function onChange(event) {\n                return _this2.setState({\n                  recipient: event.target.value\n                });\n              }\n            })]\n          }), /*#__PURE__*/_jsx(Message, {\n            error: true,\n            header: \"Oops!\",\n            content: this.state.errorMessage\n          }), /*#__PURE__*/_jsx(Button, {\n            primary: true,\n            loading: this.state.loading,\n            children: \"Create!\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"h4\", {\n          children: [\"Only manager can create the request - i.e. \", this.props.manager, \" \"]\n        })]\n      });\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(props) {\n        var address, campaignCheck, manager;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                address = props.query.address;\n                campaignCheck = Campaign(props.query.address);\n                _context2.next = 4;\n                return campaignCheck.methods.manager().call();\n\n              case 4:\n                manager = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  address: address,\n                  manager: manager\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getInitialProps(_x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return RequestNew;\n}(Component);\n\nexport default RequestNew;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/campaigns/requests/newRequest\",\n        function () {\n          return require(\"private-next-pages/campaigns/requests/newRequest.js\");\n        }\n      ]);\n    "]}}
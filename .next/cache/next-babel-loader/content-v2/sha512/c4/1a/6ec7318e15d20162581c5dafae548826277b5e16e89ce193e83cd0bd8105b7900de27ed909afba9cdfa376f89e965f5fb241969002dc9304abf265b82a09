{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Component } from 'react';\nimport Layout from '../../components/layout';\nimport ContributeForm1 from '../../components/ContributeForm'; //import {Card, Button} from 'semantic-ui-react';\n\nimport 'semantic-ui-css/semantic.min.css'; // import factory from '../contract/factory';\n\nimport { Link } from '../../routes';\nimport Campaign from '../../contract/campaign';\nimport { Card, Grid, GridColumn, Button } from 'semantic-ui-react';\nimport web3 from '../../contract/web3';\n\nclass CampaignShow extends Component {\n  static async getInitialProps(props) {\n    const campaignInstance = Campaign(props.query.address);\n    const data = await campaignInstance.methods.getContractSummary().call();\n    return {\n      address: props.query.address,\n      minimumContribution: data[0],\n      totalRequest: data[1],\n      balance: data[2],\n      contributors: data[3],\n      manager: data[4]\n    };\n  }\n\n  renderCards() {\n    const {\n      balance,\n      manager,\n      minimumContribution,\n      totalRequest,\n      contributors\n    } = this.props;\n    console.log(manager);\n    const items = [{\n      header: manager,\n      meta: 'Address of Manager',\n      description: 'The manager created this campaign and can create request.',\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: minimumContribution,\n      meta: 'Minimum Contribution',\n      description: 'You must contribute atleast this much amount to the campaign.'\n    }, {\n      header: contributors,\n      meta: 'Number of contributors',\n      description: 'Number of people to contribute in this contract.'\n    }, {\n      header: totalRequest,\n      meta: 'Number of request',\n      description: 'A request withdraws money from contract on approval of contributors.'\n    }, {\n      header: web3.utils.fromWei(balance, 'ether'),\n      meta: 'Campaign Balance (ether)',\n      description: 'The amount of ether the contract has left to spend.'\n    }];\n    return /*#__PURE__*/_jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          position: \"absolute\"\n        },\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: \"Campaign Show\"\n        }), /*#__PURE__*/_jsx(Grid, {\n          children: /*#__PURE__*/_jsxs(Grid.Row, {\n            children: [/*#__PURE__*/_jsx(Grid.Column, {\n              width: 9,\n              children: this.renderCards()\n            }), /*#__PURE__*/_jsxs(Grid.Column, {\n              width: 5,\n              children: [/*#__PURE__*/_jsx(ContributeForm1, {\n                address: this.props.address\n              }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Link, {\n                route: `/campaigns/${this.props.address}/requests`,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsx(Button, {\n                    primary: true,\n                    children: \"View Requests\"\n                  })\n                })\n              })]\n            })]\n          })\n        })]\n      })\n    });\n  }\n\n}\n\nexport default CampaignShow;","map":null,"metadata":{},"sourceType":"module"}
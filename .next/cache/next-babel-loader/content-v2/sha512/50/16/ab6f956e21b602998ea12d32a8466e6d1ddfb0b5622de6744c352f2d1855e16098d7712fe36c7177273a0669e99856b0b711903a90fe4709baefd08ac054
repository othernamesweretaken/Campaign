{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Component } from 'react';\nimport Layout from '../components/layout';\nimport { Card, Button } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\nimport factory from '../contract/factory';\nimport { Link } from '../routes'; // import dynamic from \"next/dynamic\";\n// import web3 from '../contract/web3';\n\nclass CampaignPage extends Component {\n  static async getInitialProps() {\n    const campaigns = await factory.methods.getDeployedContract().call();\n    return {\n      campaigns: campaigns\n    };\n  } // async componentDidMount(){\n  //     web3 = new Web3(window.web3.currentProvider);\n  //     factory.setProvider(web3);\n  //     const accounts = await web3.eth.accounts;\n  // }\n\n\n  renderCampaigns() {\n    const items = this.props.campaigns.map(address => {\n      return {\n        header: address,\n        description: /*#__PURE__*/_jsx(Link, {\n          route: `/campaigns/${address}`,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"View Campaign\"\n          })\n        }),\n        fluid: true,\n        style: {\n          overflowWrap: 'break-word'\n        }\n      };\n    });\n    return /*#__PURE__*/_jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    //   console.log(this.props.campaigns);\n    return /*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          position: \"absolute\"\n        },\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: \"Open Campaigns\"\n        }), /*#__PURE__*/_jsx(Link, {\n          route: \"/campaigns/new\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: /*#__PURE__*/_jsx(Button, {\n              floated: \"right\",\n              content: \"Create Campaign\",\n              icon: \"add\",\n              primary: true\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: this.renderCampaigns()\n        })]\n      })\n    });\n  }\n\n} //MUST!!! for next.js \n\n\nexport default CampaignPage;","map":null,"metadata":{},"sourceType":"module"}